<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="UTF-8">
  <title>文本复制</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
    font-variant: tabular-nums;
  </style>
</head>
<body>
  <div id="tip" style="text-align: center;font-size: 12px;color: #999;">点击文字复制</div>
  <div id="btn" style="text-align: center;padding: 10px 20px;font-size: 18px;border: 1px #ededed solid;border-radius: 5px;width: fit-content;margin: 0 auto;margin-top: 100px;background: #f7f8f9;"></div>

  <script>
    const val = window.location.search.substring(3)
    const div = document.getElementById('btn')
    const tip = document.getElementById('tip')
    div.innerText = val
    div.addEventListener('click', () => {
      tip.innerText = '点击文字复制'
      tip.style.color = '#999'

      const input = document.createElement('input')
      input.setAttribute('readonly', 'readonly')
      input.setAttribute('value', val)
      document.body.appendChild(input)
      input.setSelectionRange(0, 9999)
      if (document.execCommand('copy')) {
        document.execCommand('copy')
        // window.alert('复制成功')
        setTimeout(() => {
          tip.innerText = '复制成功'
          tip.style.color = 'green'
        }, 100)
      }
      document.body.removeChild(input)
    })
    div.click()
  </script>
</body>
</html>
